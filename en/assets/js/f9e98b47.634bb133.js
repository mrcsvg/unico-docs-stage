(self.webpackChunkunico_docs=self.webpackChunkunico_docs||[]).push([[7319],{3905:(e,o,a)=>{"use strict";a.d(o,{Zo:()=>p,kt:()=>m});var t=a(67294);function n(e,o,a){return o in e?Object.defineProperty(e,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[o]=a,e}function s(e,o){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),a.push.apply(a,t)}return a}function r(e){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?s(Object(a),!0).forEach((function(o){n(e,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(a,o))}))}return e}function i(e,o){if(null==e)return{};var a,t,n=function(e,o){if(null==e)return{};var a,t,n={},s=Object.keys(e);for(t=0;t<s.length;t++)a=s[t],o.indexOf(a)>=0||(n[a]=e[a]);return n}(e,o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)a=s[t],o.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var u=t.createContext({}),c=function(e){var o=t.useContext(u),a=o;return e&&(a="function"==typeof e?e(o):r(r({},o),e)),a},p=function(e){var o=c(e.components);return t.createElement(u.Provider,{value:o},e.children)},l={inlineCode:"code",wrapper:function(e){var o=e.children;return t.createElement(t.Fragment,{},o)}},d=t.forwardRef((function(e,o){var a=e.components,n=e.mdxType,s=e.originalType,u=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=c(a),m=n,g=d["".concat(u,".").concat(m)]||d[m]||l[m]||s;return a?t.createElement(g,r(r({ref:o},p),{},{components:a})):t.createElement(g,r({ref:o},p))}));function m(e,o){var a=arguments,n=o&&o.mdxType;if("string"==typeof e||n){var s=a.length,r=new Array(s);r[0]=d;var i={};for(var u in o)hasOwnProperty.call(o,u)&&(i[u]=o[u]);i.originalType=e,i.mdxType="string"==typeof e?e:n,r[1]=i;for(var c=2;c<s;c++)r[c]=a[c];return t.createElement.apply(null,r)}return t.createElement.apply(null,a)}d.displayName="MDXCreateElement"},46300:(e,o,a)=>{"use strict";a.d(o,{Z:()=>d});var t=a(87462),n=a(67294),s=a(86010),r=a(19521),i=(a(61793),a(72933)),u=a(49009),c=a(28084);function p(e){var o;const a=(0,c.OD)("docusaurus-plugin-redoc");return e?null==a?void 0:a[e]:null==(o=Object.values(null!=a?a:{}))?void 0:o[0]}const l=e=>{let{id:o,example:a,pointer:c,...l}=e;const d=p(o),{store:m}=(0,u.U)(d);return(0,n.useEffect)((()=>{m.menu.dispose()}),[m]),n.createElement(r.ThemeProvider,{theme:m.options.theme},n.createElement("div",{className:(0,s.Z)(["redocusaurus","redocusaurus-schema",a?null:"hide-example"])},n.createElement(i.SchemaDefinition,(0,t.Z)({parser:m.spec.parser,options:m.options,schemaRef:c},l))))};l.defaultProps={example:!1};const d=l},444:(e,o,a)=>{"use strict";a.d(o,{Z:()=>r});var t=a(67294);const n="url_ipuT",s="method_rIqc";function r(e){let{children:o,method:a}=e;return t.createElement("span",{className:n},t.createElement("span",{className:s},a),o)}},17894:(e,o,a)=>{"use strict";a.d(o,{Z:()=>n});var t=a(67294);const n=function(e){let{children:o,headingDepth:a}=e;const[n,s]=(0,t.useState)(null);return t.createElement("div",{className:"steps steps--h"+a},o)}},81131:(e,o,a)=>{"use strict";a.r(o),a.d(o,{assets:()=>l,contentTitle:()=>c,default:()=>g,frontMatter:()=>u,metadata:()=>p,toc:()=>d});var t=a(87462),n=(a(67294),a(3905)),s=a(17894),r=a(46300),i=a(444);const u={sidebar_position:1,sidebar_label:"Listar documentos",description:"Aprenda como listar todos os documentos de um envelope",title:"Listar documentos"},c=void 0,p={unversionedId:"sign/api-guides/managing-evelopes/list-documents",id:"sign/api-guides/managing-evelopes/list-documents",title:"Listar documentos",description:"Aprenda como listar todos os documentos de um envelope",source:"@site/docs/sign/api-guides/managing-evelopes/list-documents.mdx",sourceDirName:"sign/api-guides/managing-evelopes",slug:"/sign/api-guides/managing-evelopes/list-documents",permalink:"/unico-docs-stage/en/docs/sign/api-guides/managing-evelopes/list-documents",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/sign/api-guides/managing-evelopes/list-documents.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"Listar documentos",description:"Aprenda como listar todos os documentos de um envelope",title:"Listar documentos"},sidebar:"signSidebar",previous:{title:"Cancelar envelopes",permalink:"/unico-docs-stage/en/docs/sign/api-guides/managing-evelopes/cancel-evelope"},next:{title:"Gerenciamento de contatos",permalink:"/unico-docs-stage/en/docs/sign/api-guides/contacts"}},l={},d=[{value:"Sobre este guia",id:"sobre-este-guia",level:2},{value:"O que voc\xea vai precisar",id:"o-que-voc\xea-vai-precisar",level:2},{value:"Funcionamento b\xe1sico",id:"funcionamento-b\xe1sico",level:2},{value:"Obtenha um token OAuth v\xe1lido;",id:"obtenha-um-token-oauth-v\xe1lido",level:3},{value:"Configure os filtros de sua pesquisa",id:"configure-os-filtros-de-sua-pesquisa",level:3},{value:"Fa\xe7a uma requisi\xe7\xe3o POST para o endpoint <code>/envelopes/</code>",id:"fa\xe7a-uma-requisi\xe7\xe3o-post-para-o-endpoint-envelopes",level:3},{value:"Pr\xf3ximos passos",id:"pr\xf3ximos-passos",level:2},{value:"Ficou com d\xfavidas?",id:"ficou-com-d\xfavidas",level:2}],m={toc:d};function g(e){let{components:o,...a}=e;return(0,n.kt)("wrapper",(0,t.Z)({},m,a,{components:o,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"sobre-este-guia"},"Sobre este guia"),(0,n.kt)("p",null,"Atrav\xe9s deste guia, demonstraremos como listar os documentos pertencentes a um envelope atrav\xe9s de nossa API REST. Ao seguir os passos deste guia, em poucos minutos voc\xea ser\xe1 capaz de obter todos os documentos de um envelope (assim como alguns de seus detalhes), de forma estruturada em uma resposta JSON."),(0,n.kt)("h2",{id:"o-que-voc\xea-vai-precisar"},"O que voc\xea vai precisar"),(0,n.kt)("p",null,"Antes de iniciar sua integra\xe7\xe3o:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Certifique-se que voc\xea possui credenciais v\xe1lidas para utilizar o ",(0,n.kt)("strong",{parentName:"li"},"Unico Sign"),". Se voc\xea ainda n\xe3o possui suas credenciais, siga nosso ",(0,n.kt)("a",{parentName:"li",href:"#"},"guia de Primeiros Passos")," para configurar sua conta de teste e obter suas chaves de API."),(0,n.kt)("li",{parentName:"ol"},"Entenda os conceitos b\xe1sicos sobre nosso produto. \xc9 extremamente importante que voc\xea entenda estes conceitos para fazer uma boa utiliza\xe7\xe3o das APIs do ",(0,n.kt)("strong",{parentName:"li"},"Unico Sign"),". Voc\xea pode encontrar nossos conceitos b\xe1sicos ",(0,n.kt)("a",{parentName:"li",href:"#"},"neste guia"),".")),(0,n.kt)("h2",{id:"funcionamento-b\xe1sico"},"Funcionamento b\xe1sico"),(0,n.kt)("p",null,"Como explicamos em nosso ",(0,n.kt)("a",{parentName:"p",href:"#"},"guia de conceitos b\xe1sicos"),", nossa entidade ",(0,n.kt)("strong",{parentName:"p"},"Envelope")," (",(0,n.kt)("inlineCode",{parentName:"p"},"envelope"),") \xe9 a representa\xe7\xe3o virtual de um envelope com documentos na vida real. Ele \xe9 o objeto que agrupa todos os documentos (",(0,n.kt)("inlineCode",{parentName:"p"},"document"),")  e seus assinantes (",(0,n.kt)("inlineCode",{parentName:"p"},"subscriber"),"), sendo que um envelope pode conter mais de documento, que por sua vez pode conter um ou mais assinantes."),(0,n.kt)("p",null,"Entenda, a seguir, como chamar nossa API REST para obter todos os documentos de um envelope."),(0,n.kt)(s.Z,{headingDepth:3,mdxType:"Steps"},(0,n.kt)("ol",null,(0,n.kt)("li",null,(0,n.kt)("h3",{id:"obtenha-um-token-oauth-v\xe1lido"},"Obtenha um token OAuth v\xe1lido;"),(0,n.kt)("p",null,"Para efetuar requisi\xe7\xf5es \xe0 nossa API REST voc\xea necessitar\xe1 de um token de acesso OAuth v\xe1lido. Caso n\xe3o esteja familizarizado com o modelo de autentica\xe7\xe3o OAuth, entenda como gerar um token v\xe1lido ",(0,n.kt)("a",{parentName:"p",href:"#"},"neste artigo"),". Ap\xf3s sua gera\xe7\xe3o, o token de acesso dever\xe1 ser enviado no ",(0,n.kt)("inlineCode",{parentName:"p"},"header")," de sua requisi\xe7\xe3o, junto ao par\xe2metro ",(0,n.kt)("inlineCode",{parentName:"p"},"Authorization"),"."),(0,n.kt)("admonition",{title:"Ambientes",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"Ao iniciar sua integra\xe7\xe3o voc\xea receber\xe1 credenciais a nosso ambiente de homologa\xe7\xe3o. S\xf3mente ap\xf3s o processo de testes e certifica\xe7\xe3o voc\xea receber\xe1 credenciais de produ\xe7\xe3o."),(0,n.kt)("p",{parentName:"admonition"},"Voc\xea dever\xe1 apontar suas requisi\xe7\xf5es \xe0s URLs corretas em cada est\xe1gio de sua integra\xe7\xe3o. Abaixo listamos as URLs de homologa\xe7\xe3o e produ\xe7\xe3o:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"Ambiente de homologa\xe7\xe3o: ",(0,n.kt)("inlineCode",{parentName:"li"},"https://signhom.acesso.io"),";"),(0,n.kt)("li",{parentName:"ul"},"Ambiente de produ\xe7\xe3o: ",(0,n.kt)("inlineCode",{parentName:"li"},"https://sign.acesso.io"),".")))),(0,n.kt)("li",null,(0,n.kt)("h3",{id:"configure-os-filtros-de-sua-pesquisa"},"Configure os filtros de sua pesquisa"),(0,n.kt)("p",null,"Opcionalmente, voc\xea pode configurar alguns crit\xe9rios para sua busca. Para isto, os campos de filtro devem ser enviados no ",(0,n.kt)("inlineCode",{parentName:"p"},"body")," de sua requisi\xe7\xe3o."),(0,n.kt)("admonition",{title:"Obrigatoriedade dos filtros",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"Nenhum dos filtros \xe9 obrigat\xf3rio. Caso n\xe3o informados, por padr\xe3o, retornaremos 30 envelopes em nossa resposta JSON.")),(0,n.kt)("p",null,"O schema abaixo cont\xeam os par\xe2metros e dom\xednios permitidos para a configura\xe7\xe3o dos filtros:"),(0,n.kt)(r.Z,{pointer:"#/components/schemas/GetEnvelopesRequest",mdxType:"ApiSchema"}),(0,n.kt)("p",null,"O exemplo abaixo solicita em ordem ",(0,n.kt)("strong",{parentName:"p"},"ascendente"),", envelopes cujos assinantes possuam o ",(0,n.kt)("strong",{parentName:"p"},"CPF 100.000.000-19"),", criados de ",(0,n.kt)("strong",{parentName:"p"}," 01/08/2022 a 31/08/2022"),", com status ",(0,n.kt)("strong",{parentName:"p"},"pendente"),"."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "CPF": "10000000019",  \n  "StartDate": "01/08/2022",\n  "EndDate": "31/08/2022",\n  "Status": 1,\n  "Order": "ASC"\n}\n'))),(0,n.kt)("li",null,(0,n.kt)("h3",{id:"fa\xe7a-uma-requisi\xe7\xe3o-post-para-o-endpoint-envelopes"},"Fa\xe7a uma requisi\xe7\xe3o POST para o endpoint ",(0,n.kt)("inlineCode",{parentName:"h3"},"/envelopes/")),(0,n.kt)("p",null,"Ap\xf3s gerar um token de acesso v\xe1lido e, opcionalmente, montar o ",(0,n.kt)("inlineCode",{parentName:"p"},"body")," com os filtros, fa\xe7a uma requisi\xe7\xe3o para o endpoint de obten\xe7\xe3o de lista de documentos da nossa API REST (",(0,n.kt)(i.Z,{method:"POST",mdxType:"HttpMethod"},"/service/envelopes"),"). Ser\xe3o obtidos os dados de todos envelopes atrelados ao usu\xe1rio do token utilizado."),(0,n.kt)("admonition",{title:"Permiss\xe3o para Visualizar Documentos",type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"Para utilizar esta rota \xe9 necess\xe1rio que o usu\xe1rio tenha permiss\xe3o de ",(0,n.kt)("strong",{parentName:"p"},"Visualizar Documentos"))),(0,n.kt)("p",null,"Exemplo solicitando em ordem ",(0,n.kt)("strong",{parentName:"p"},"ascendente"),", envelopes cujos assinantes possuam o ",(0,n.kt)("strong",{parentName:"p"},"CPF 100.000.000-19"),", criados de ",(0,n.kt)("strong",{parentName:"p"}," 01/08/2022 a 31/08/2022"),", com status ",(0,n.kt)("strong",{parentName:"p"},"pendente"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X \'POST\' \\\n  \'https://sign-core-uat.acesso.io/api/v1/service/envelopes\' \\\n  -H \'accept: application/json\' \\\n  -H \'Content-Type: application/json\' \\\n  -H \'Authorization: Bearer {{ACCESS_TOKEN}}\'\n  -d \'{\n  "CPF": "10000000019",  \n  "StartDate": "01/08/2022",\n  "EndDate": "31/08/2022",\n  "Status": 1,\n  "Order": "ASC"\n}\'\n')),(0,n.kt)("p",null,"Se tudo der certo em sua requisi\xe7\xe3o, voc\xea receber\xe1 como resposta um JSON contendo uma lista todos os envelopes associados a sua consulta:"),(0,n.kt)("admonition",{title:"Limite de p\xe1ginas",type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"Atualmente n\xe3o \xe9 poss\xedvel listar documentos da p\xe1gina 334 em diante. Caso seja necess\xe1rio acessar uma dessas p\xe1ginas, recomendamos utilizar os filtros para uma busca mais assertiva.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "Success": true,\n  "Message": "",\n  "Data": {\n    "Page": 1,\n    "MaxPage": 5,\n    "Count": 50,\n    "Envelopes": [\n      {\n        "CreatedDate": "09/04/2022 20:09",\n        "ID_EnvelopeStatus": 2,\n        "EnvelopeStatus": "Conclu\xeddo",\n        "UUID": "00000000-0000-0000-0000-000000000000",\n        "HasFrame": false,\n        "Documents": [\n          {\n            "Url": "https://sign.unico.io/path",\n            "UrlVoucher": "https://sign.unico.io/path",\n            "DocumentType": "admissao",\n            "CreatedDate": "09/04/2022 20:09",\n            "EmitterUserName": "Carlos Eduardo",\n            "EmitterUserUUID": "00000000-0000-0000-0000-000000000000",\n            "EmitterUserEmail": "test@test.com",\n            "CompanySocialName": "unico",\n            "UUID": "00000000-0000-0000-0000-000000000000",\n            "HasFile": false,\n            "Subscribers": [\n              {\n                "SubscriberName": "Flavia dos Santos",\n                "SubscriberCPF": "10000000019",\n                "SubscriberEmail": "test@test.com",\n                "SubscriberPhone": "551192345678",\n                "SubscriberOrder": 1,\n                "SubscriberRole": 1,\n                "URLFrameFull": "https://unico.io/path",\n                "IsUser": false\n              }\n            ],\n            "IsTemplate": false,\n            "DocumentSubcategoryUUID": "00000000-0000-0000-0000-000000000000",\n            "DocumentSubcategoryName": "Abertura de conta banc\xe1ria",\n            "DocumentCategoryUUID": "00000000-0000-0000-0000-000000000000",\n            "DocumentCategoryName": "Admiss\xe3o"\n          }\n        ]\n      }\n    ],\n    "Rows": 0\n  }\n}\n')),(0,n.kt)("p",null,"Cada elemento do objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Envelopes")," representa um envelope com seus respectivos documentos, contidos no objeto ",(0,n.kt)("inlineCode",{parentName:"p"},"Documents"),"."),(0,n.kt)("admonition",{title:"API Reference",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"Aprenda mais sobre este endpoint em nosso ",(0,n.kt)("a",{parentName:"p",href:"#"},"API Reference"),"."))))),(0,n.kt)("h2",{id:"pr\xf3ximos-passos"},"Pr\xf3ximos passos"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Conhe\xe7a outras funcionalidades dispon\xedveis para o ",(0,n.kt)("a",{parentName:"li",href:"/docs/category/gerenciando-documentos"},"Gerenciamento de documentos"),"."),(0,n.kt)("li",{parentName:"ul"},"Conhe\xe7a outras funcionalidades dispon\xedveis para o ",(0,n.kt)("a",{parentName:"li",href:"/docs/category/gerenciando-envelopes"},"Gerenciamento de envelopes"),"."),(0,n.kt)("li",{parentName:"ul"},"Tendo problemas em nossa integra\xe7\xe3o? Acesse nossa sess\xe3o de ",(0,n.kt)("a",{parentName:"li",href:"/FAQ"},"FAQ e problemas comuns"),"."),(0,n.kt)("li",{parentName:"ul"},"Explore a documentac\xe3o da API do Unico Sign em nosso ",(0,n.kt)("a",{parentName:"li",href:"#"},"API Reference"),".")),(0,n.kt)("h2",{id:"ficou-com-d\xfavidas"},"Ficou com d\xfavidas?"),(0,n.kt)("p",null,"Esperamos ter ajudado com este artigo. N\xe3o encontrou algo ou ainda precisa de ajuda? "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Caso tenha d\xfavidas que n\xe3o estejam relacionadas as nossas APIs, acesse nossa ",(0,n.kt)("a",{parentName:"li",href:"https://ajuda.unico.io/hc/pt-br/categories/360003086372-Unico-Sign"},"central de ajuda"),"."),(0,n.kt)("li",{parentName:"ul"},"Caso j\xe1 seja um parceiro, entre em contato atrav\xe9s de nosso ",(0,n.kt)("a",{parentName:"li",href:"https://ajuda.unico.io/hc/pt-br/requests/new"},"portal de solicita\xe7\xf5es"),".")))}g.isMDXComponent=!0},83105:()=>{},26242:()=>{},22045:()=>{},11314:()=>{},67251:()=>{},99018:()=>{},43044:()=>{},3408:()=>{},35126:()=>{}}]);